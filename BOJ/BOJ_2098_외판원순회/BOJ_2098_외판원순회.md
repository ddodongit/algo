## [π“ 2098λ²](https://www.acmicpc.net/problem/2098)

## λ¬Έμ  μ”μ•½

> κ°€μ¥ μ μ€ λΉ„μ©μ„ λ“¤μ΄λ” μ™Ένμ›μ μν μ—¬ν–‰ κ²½λ΅λ¥Ό κµ¬ν•μ„Έμ”.
>
> $2 β‰¤ N β‰¤ 16$<br/>
> $1 β‰¤ λΉ„μ© β‰¤ 1,000,000$<br/>
>

## π’΅ μƒκ° λ° ν’€μ΄

### 1. μμ—΄

μμ—΄μ„ ν†µν•΄ κ°€λ¥ν• λ¨λ“  κ²½λ΅λ¥Ό νƒμƒ‰ν•λ©΄ μ‹κ°„λ³µμ΅λ„κ°€ $O(N!)$μΌλ΅, N=16μΈ κ²½μ° μ‹κ°„μ΄κ³Όκ°€ λ°μƒν•©λ‹λ‹¤.

λ”°λΌμ„ μ¤‘λ³µ κ³„μ‚°λλ” κ²ƒμ„ μ¤„μ΄κΈ° μ„ν•΄ λ©”λ¨μ΄μ μ΄μ…μ„ ν™μ©ν•κ³ μ ν–μµλ‹λ‹¤.

### 2. dp + λΉ„νΈλ§μ¤ν‚Ή

μ™Ένμ›μ μ΄λ™ κ²½λ΅λ” λ‹¤μκ³Ό κ°™μ΄ λ¨λ“  λ„μ‹λ¥Ό ν• λ²μ”© λ°©λ¬Έν•κ³  μ¶λ° λ„μ‹λ΅ λμ•„μ¤λ” μ‚¬μ΄ν΄ ν•νƒμ…λ‹λ‹¤.

```
1,2,3,4,1

2,3,4,1,2

3,4,1,2,3
```

λ”°λΌμ„, μ–΄λ λ„μ‹λ¥Ό μ¶λ°μ μΌλ΅ μ •ν•λ”λΌλ„ μµμ† λΉ„μ© κ²½λ΅λ” λ™μΌν•λ―€λ΅, μ„μλ΅ 1λ² λ„μ‹λ¥Ό μ¶λ°μ μΌλ΅ μ„¤μ •ν–μµλ‹λ‹¤.
μ΄ν›„, ν„μ¬ μ„μΉν• λ„μ‹μ™€ μ§€κΈκΉμ§€ λ°©λ¬Έν• λ„μ‹ μƒνƒλ¥Ό κΈ°μ¤€μΌλ΅ μµμ† λΉ„μ©μ„ κ³„μ‚°ν•μ—¬ dp λ°°μ—΄μ— μ €μ¥ν•©λ‹λ‹¤.

μ§€κΈκΉμ§€ λ°©λ¬Έν• λ„μ‹ μƒνƒ ```visitBit```λ” λΉ„νΈλ§μ¤ν‚Ήμ„ μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬μ™€ κ³„μ‚° μ†λ„λ¥Ό μ¤„μ€μµλ‹λ‹¤.
μλ¥Ό λ“¤μ–΄, visitBit = 1011 μΈ κ²½μ°, 1,2,4λ² λ„μ‹ λ°©λ¬Έμ„ λ‚νƒ€λƒ…λ‹λ‹¤.

dp λ°°μ—΄μ€ λ°©λ¬Έν•μ§€ μ•μ€ μƒνƒλ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ -1λ΅ μ΄κΈ°ν™”ν•κ³ ,
μ΄λ―Έ λ°©λ¬Έν–λ‹¤λ©΄ κ³„μ‚°λμ–΄μλ” κ°’μ„ λ°ν™ν•κ³ , μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ•λ‹¤λ©΄ μµμ†κ°’μ„ κ³„μ‚°ν•λ©° κ°±μ‹ ν•©λ‹λ‹¤.

INF κ°’μ€ μµλ€ κ²½λ΅ λΉ„μ©μ ν•©λ³΄λ‹¤ λ” ν° κ°’μΌλ΅ μ„¤μ •ν–μµλ‹λ‹¤.
μµλ€ λΉ„μ©μ΄ 1,000,000μ΄κ³  λ„μ‹κ°€ 16κ°μ΄λ―€λ΅, INFλ” 16 * 1,000,000λ³΄λ‹¤ μ»¤μ•Ό ν•©λ‹λ‹¤.
μ—¬κΈ°μ„ INFλ¥Ό Integer.MAX_VALUEλ΅ μ„¤μ •ν•λ©΄ intν•μΈ κ²½μ° μ¤λ²„ν”λ΅μ°κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.

κ²°κ³Όμ μΌλ΅ dpμ™€ λΉ„νΈλ§μ¤ν‚Ήμ„ ν†µν•΄ λ¨λ“  λ°©λ¬Έ μƒνƒ($2^N$)μ™€ κ° μƒνƒμ—μ„ κ°€λ¥ν• λ„μ‹($N$)λ¥Ό νƒμƒ‰ν•λ©°,
μ‹κ°„λ³µμ΅λ„ $O(N * 2^N)$λ΅ ν•΄κ²°ν•  μ μμµλ‹λ‹¤.